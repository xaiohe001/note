<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        function Fn(c) {
            this.b = c;
            this.d = function() {
                console.log(this.b, 'this.b'); // 111
            }
        }
        var obj1 = new Fn('lll');
        console.log(obj1, 'obj11');

        console.log(obj1.b, 'obj1.bb'); // 111
        obj1.d() // 111 this.b
            // 情况一: return返回值是引用类型
        function Fn1(c) {
            this.b = c;
            console.log(this);
            this.d = function() {
                console.log(this.b);
            }
            return {
                a: '123',
                e: 'xyz'
            };
        }
        var obj2 = new Fn1(678); // 当构造函数return 返回来的是 引用类型时,this 不在指向 内部隐式生成的对象,这时 this指向的是 window
        console.log(obj2);
        console.log(Fn1(123456789)); // 当成普通函数处理,得到的结果就是return 返回的内容

        // 情况二: return 返回值是值类型时(基本类型 或 原始类型 或 简单类型)
        function Fn2(c) {
            this.b = c;
            this.d = function() {
                console.log(this.b);
            }
            console.log(this, 'this');
            return 'xyxyxy';
        }
        var obj3 = new Fn2(999); //当构造函数return 返回值是值类型时,不影响this的指向
        console.log(obj3, 'obj3');
        console.log(obj3.b, 'obj3.b');
        console.log(Fn2()); // 当成普通函数来调用 xyxyxy
    </script>
</body>

</html>